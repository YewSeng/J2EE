-- CREATE DATABASE SCHEMA
CREATE DATABASE BACKEND;
-- USE SCHEMA BACKEND
use backend;
-- CREATE TABLE SUPERADMIN
CREATE TABLE IF NOT EXISTS SUPERADMIN (
superAdminId INT PRIMARY KEY AUTO_INCREMENT, 
superAdminUsername VARCHAR(25) UNIQUE NOT NULL,
superAdminPassword VARCHAR(500) NOT NULL); 
-- HARD CODE SUPER ADMIN DETAILS 
-- USER = Master, PASS = Master (bcrypted)
INSERT INTO SUPERADMIN(superAdminId, superAdminUsername, superAdminPassword) VALUES (NULL, 'Master', '$2a$12$4TlIAxgqpTNLPgEmLNKTse7OykROoxu7angrDpLyFOFKCwj6z5mp2');
-- CREATE TABLE ADMIN
CREATE TABLE IF NOT EXISTS ADMIN (
adminId INT PRIMARY KEY AUTO_INCREMENT, 
adminUsername VARCHAR(25) UNIQUE NOT NULL,
adminPassword VARCHAR(500) NOT NULL);
-- CREATE TABLE USER
CREATE TABLE IF NOT EXISTS USER (
userId INT PRIMARY KEY AUTO_INCREMENT, 
username VARCHAR(25) UNIQUE NOT NULL,
password VARCHAR(500) NOT NULL,
batchId INT,
FOREIGN KEY (batchId) REFERENCES BATCH(batchId));
-- CREATE TABLE BATCH
CREATE TABLE IF NOT EXISTS Batch (
batchId INT PRIMARY KEY AUTO_INCREMENT,
adminUsername VARCHAR(25),
classTiming ENUM ('MORNING', 'AFTERNOON', 'EVENING'),
preference ENUM ('WEEKDAY', 'WEEKEND'),
classStartTime DATETIME,
classEndTime DATETIME,
currentSize INT,
FOREIGN KEY (adminUsername) REFERENCES ADMIN(adminUsername));
-- CREATE TABLE CONTACT
CREATE TABLE IF NOT EXISTS contact (
responseId BIGINT PRIMARY KEY AUTO_INCREMENT,
name VARCHAR(50) NOT NULL,
email VARCHAR(50) NOT NULL,
enquiries VARCHAR(255) NOT NULL);
